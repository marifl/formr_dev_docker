<VirtualHost *:443>
    ServerName formr.local
    ServerAlias 192.168.2.107 localhost 127.0.0.1 # Use the determined local_ip
    DocumentRoot /formr/formr/webroot

    SSLEngine on
    # Paths inside the container where certs will be mounted
    SSLCertificateFile /etc/ssl/certs/formr.cert.pem
    SSLCertificateKeyFile /etc/ssl/private/formr.key.pem

    <Directory /formr/formr/webroot>
        Options -Indexes +FollowSymLinks
        AllowOverride All
        Require all granted
    </Directory>

    ErrorLog ${APACHE_LOG_DIR}/error.log
    CustomLog ${APACHE_LOG_DIR}/access.log combined

    # Optional: Add headers for security
    # Header always set Strict-Transport-Security "max-age=63072000; includeSubDomains"
</VirtualHost>
